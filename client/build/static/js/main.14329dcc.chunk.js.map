{"version":3,"sources":["components/Header.js","context/AppReducer.js","context/GlobalState.js","utils/format.js","components/Balance.js","components/IncomeExpenses.js","components/Transaction.js","components/TransactionList.js","components/AddTransaction.js","App.js","index.js"],"names":["Header","state","action","type","loading","transactions","payload","filter","transaction","_id","error","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","a","axios","get","res","data","response","id","delete","config","headers","post","Provider","value","getTransactions","deleteTransaction","addTransaction","numberWithCommas","x","toString","replace","Balance","total","useContext","map","amount","reduce","acc","item","toFixed","IncomeExpenses","amounts","income","expense","className","Transaction","sign","text","Math","abs","onClick","TransactionList","useEffect","key","AddTransaction","useState","setText","setAmount","onSubmit","e","preventDefault","newTransaction","floor","random","htmlFor","onChange","target","placeholder","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.14329dcc.chunk.js","sourcesContent":["import React from 'react';\n\nexport const Header = () => {\n\treturn <h2>Expense Tracker</h2>;\n};\n","export default (state, action) => {\n\tswitch (action.type) {\n\t\tcase 'GET_TRANSACTIONS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\ttransactions: action.payload\n\t\t\t};\n\t\tcase 'DELETE_TRANSACTION':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransactions: state.transactions.filter(\n\t\t\t\t\ttransaction => transaction._id !== action.payload\n\t\t\t\t)\n\t\t\t};\n\t\tcase 'ADD_TRANSACTION':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransactions: [...state.transactions, action.payload]\n\t\t\t};\n\t\tcase 'TRANSACTION_ERROR':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: action.payload\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import React, { createContext, useReducer } from 'react';\nimport AppReducer from './AppReducer';\nimport axios from 'axios';\n\n// Initial state\nconst initialState = {\n\ttransactions: [],\n\terror: null,\n\tloading: true\n};\n\n// Create context\nexport const GlobalContext = createContext(initialState);\n\n// Provider component - to let other components use the state\nexport const GlobalProvider = ({ children }) => {\n\tconst [state, dispatch] = useReducer(AppReducer, initialState);\n\n\t// Actions\n\tasync function getTransactions() {\n\t\ttry {\n\t\t\tconst res = await axios.get('/api/v1/transactions');\n\n\t\t\tdispatch({\n\t\t\t\ttype: 'GET_TRANSACTIONS',\n\t\t\t\tpayload: res.data.data\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tdispatch({\n\t\t\t\ttype: 'TRANSACTION_ERROR',\n\t\t\t\tpayload: err.response.data.error\n\t\t\t});\n\t\t}\n\t}\n\n\tasync function deleteTransaction(id) {\n\t\ttry {\n\t\t\tawait axios.delete(`/api/v1/transactions/${id}`);\n\n\t\t\tdispatch({\n\t\t\t\ttype: 'DELETE_TRANSACTION',\n\t\t\t\tpayload: id\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tdispatch({\n\t\t\t\ttype: 'TRANSACTION_ERROR',\n\t\t\t\tpayload: err.response.data.error\n\t\t\t});\n\t\t}\n\t}\n\n\tasync function addTransaction(transaction) {\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t};\n\t\ttry {\n\t\t\tconst res = await axios.post('/api/v1/transactions', transaction, config);\n\n\t\t\tdispatch({\n\t\t\t\ttype: 'ADD_TRANSACTION',\n\t\t\t\tpayload: res.data.data\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tdispatch({\n\t\t\t\ttype: 'TRANSACTION_ERROR',\n\t\t\t\tpayload: err.response.data.error\n\t\t\t});\n\t\t}\n\t}\n\n\treturn (\n\t\t<GlobalContext.Provider\n\t\t\tvalue={{\n\t\t\t\ttransactions: state.transactions,\n\t\t\t\terror: state.error,\n\t\t\t\tloading: state.loading,\n\t\t\t\tgetTransactions,\n\t\t\t\tdeleteTransaction,\n\t\t\t\taddTransaction\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</GlobalContext.Provider>\n\t);\n};\n","export function numberWithCommas(x) {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n","import React, { useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport { numberWithCommas } from '../utils/format';\n\nexport const Balance = () => {\n\tconst { transactions } = useContext(GlobalContext);\n\n\tconst amounts = transactions.map(transaction => transaction.amount);\n\tconst total = amounts.reduce((acc, item) => (acc += item), 0).toFixed(2);\n\n\treturn (\n\t\t<>\n\t\t\t<h4>Your Balance</h4>\n\t\t\t<h1>${numberWithCommas(total)}</h1>\n\t\t</>\n\t);\n};\n","import React, { useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport { numberWithCommas } from '../utils/format';\n\nexport const IncomeExpenses = () => {\n\tconst { transactions } = useContext(GlobalContext);\n\n\tconst amounts = transactions.map(transaction => transaction.amount);\n\n\tconst income = amounts\n\t\t.filter(item => item > 0)\n\t\t.reduce((acc, item) => (acc += item), 0)\n\t\t.toFixed(2);\n\n\tconst expense = (\n\t\tamounts.filter(item => item < 0).reduce((acc, item) => (acc += item), 0) *\n\t\t-1\n\t).toFixed(2);\n\n\treturn (\n\t\t<div className='inc-exp-container'>\n\t\t\t<div>\n\t\t\t\t<h4>Income</h4>\n\t\t\t\t<p className='money plus'>${numberWithCommas(income)}</p>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<h4>Expense</h4>\n\t\t\t\t<p className='money minus'>${numberWithCommas(expense)}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport { numberWithCommas } from '../utils/format';\n\nexport const Transaction = ({ transaction }) => {\n\tconst { deleteTransaction } = useContext(GlobalContext);\n\n\tconst sign = transaction.amount < 0 ? '-' : '+';\n\n\treturn (\n\t\t<li className={transaction.amount < 0 ? 'minus' : 'plus'}>\n\t\t\t{transaction.text}{' '}\n\t\t\t<span>\n\t\t\t\t{sign}${numberWithCommas(Math.abs(transaction.amount))}\n\t\t\t</span>\n\t\t\t<button\n\t\t\t\tonClick={() => deleteTransaction(transaction._id)}\n\t\t\t\tclassName='delete-btn'\n\t\t\t>\n\t\t\t\tx\n\t\t\t</button>\n\t\t</li>\n\t);\n};\n","import React, { useContext, useEffect } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport { Transaction } from './Transaction';\n\nexport const TransactionList = () => {\n\tconst { transactions, getTransactions } = useContext(GlobalContext);\n\n\tuseEffect(() => {\n\t\tgetTransactions();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<h3>History</h3>\n\t\t\t<ul className='list'>\n\t\t\t\t{transactions.map(transaction => (\n\t\t\t\t\t<Transaction key={transaction.id} transaction={transaction} />\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</>\n\t);\n};\n","import React, { useState, useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\n\nexport const AddTransaction = () => {\n\tconst [text, setText] = useState('');\n\tconst [amount, setAmount] = useState('');\n\n\tconst { addTransaction } = useContext(GlobalContext);\n\n\tconst onSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst newTransaction = {\n\t\t\tid: Math.floor(Math.random() * 100000000),\n\t\t\ttext,\n\t\t\tamount: +amount\n\t\t};\n\n\t\taddTransaction(newTransaction);\n\n\t\tsetText('');\n\t\tsetAmount('');\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<h3>Add new transaction</h3>\n\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t<div className='form-control'>\n\t\t\t\t\t<label htmlFor='text'>Text</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tvalue={text}\n\t\t\t\t\t\tonChange={e => setText(e.target.value)}\n\t\t\t\t\t\tplaceholder='Enter text...'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className='form-control'>\n\t\t\t\t\t<label htmlFor='amount'>\n\t\t\t\t\t\tAmount <br />\n\t\t\t\t\t\t(negative - expense, positive - income)\n\t\t\t\t\t</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\tvalue={amount}\n\t\t\t\t\t\tonChange={e => setAmount(e.target.value)}\n\t\t\t\t\t\tplaceholder='Enter amount...'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button className='btn'>Add transaction</button>\n\t\t\t</form>\n\t\t</>\n\t);\n};\n","import React from 'react';\nimport { Header } from './components/Header';\nimport { Balance } from './components/Balance';\nimport { IncomeExpenses } from './components/IncomeExpenses';\nimport { TransactionList } from './components/TransactionList';\nimport { AddTransaction } from './components/AddTransaction';\n\nimport { GlobalProvider } from './context/GlobalState';\nimport './App.css';\n\nfunction App() {\n\treturn (\n\t\t<GlobalProvider>\n\t\t\t<Header />\n\t\t\t<div className='container'>\n\t\t\t\t<Balance />\n\t\t\t\t<IncomeExpenses />\n\t\t\t\t<TransactionList />\n\t\t\t\t<AddTransaction />\n\t\t\t</div>\n\t\t</GlobalProvider>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}